{% if announcements %}
<div class="header_offer" style="overflow:hidden">
{%if announcements|length > 1 %}
<div class="prev nav" id="prev"></div>
<div class="next nav" id="next"></div>
{%endif%}
<div class="header_offer_inner rc5">
<ul id="announcements" style="width:1550px"> 
{%for announcement in announcements%}
  <li style="float:left;width:310px">
    <div class="header_offer_title">{{announcement.title}}</div>
    <br />
    <div class="mart5 marb5"><a href="{{announcement.landing_page_url}}" target="_blank">{{announcement.text}}</a></div>
    <div class="header-offer-slider" style="background-image:url('{{MEDIA_URL}}images/slide{{forloop.counter}}.jpg');margin-left:135px;"></div> 
</li>
{%endfor%}
</ul>
</div>
</div>
<script type="text/javascript">
$(document).ready(function(){
    var speed = 200;
    var current = 0;
    $('#next').click(function(){
        if (current >=0 && current < 4){
            current += 1;
        var margin = current * -310;
        var marginpx = margin + 'px';
        $('#announcements').animate({marginLeft:marginpx}, speed,'linear' , function(){ 
        });
        }
    });
    $('#prev').click(function(){
        if(current <= 5 && current >0){
            current -= 1;
        var margin = current  * -310;
        var marginpx = margin + 'px';
        $('#announcements').animate({marginLeft:marginpx}, speed,'linear' , function(){ 
        });
        }
    });
});

</script>
<script type="text/javascript">
    var current = 1
    $('.nav').click(function(){
        var len = "{{announcements|length}}";
        if(this.id == 'prev')
        {
            if(current>1){
                current = current -1;
            }
        }
        if(this.id == 'next')
        {
            if(current < len){
                current = current + 1;
            }
            }
        for(var i=1; i<=len; i++){
           if(i == current){
                $('#announcement_' + i).css('display','block');
           }
           else{
                $('#announcement_' + i).css('display','none');
           }
        }
    });

</script>
{%endif%} 
